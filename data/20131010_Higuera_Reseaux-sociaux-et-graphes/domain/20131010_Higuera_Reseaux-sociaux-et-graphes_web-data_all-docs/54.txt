http://gerin.perso.math.cnrs.fr/Enseignements/TP_Graphes.pdf

MAP 572 - Mise en √∑uvre de m√©thodes num√©riques.

Fran√ßois Alouges, Lucas Gerin

Graphes : mod√®les et algorithmes

Cr√©dit : Igor Kortchemski (CNRS et √âcole Polytechnique).

Les graphes interviennent de fa√ßon essentielle dans de nombreux probl√®mes de math√©matiques
appliqu√©es. Ils interviennent en particulier lorsque l'on souhaite mod√©liser le graphe des pages
internet (les connexions √©tant les liens entre les pages), les maillages ou des √©tudes statistiques.
Leur √©tude soul√®ve de nombreuses questions et nous allons en aborder certaines dans ce travail.
Les objectifs sont de

 d√©nir et simuler des mod√®les de graphes,
 les dessiner/repr√©senter de fa√ßon pertinente,
 faire de l'analyse de donn√©es et de l'algorithmique sur ces graphes.
√Ä la n de la derni√®re s√©ance, vous devrez rendre un rapport par b√Ænome de 15-20 pages
au format pdf. Vous pouvez y inclure tout ce qui vous semble pertinent sur la r√©solution des
probl√®mes pos√©s : les sorties graphiques et leurs interpr√©tations, le code matlab, des remarques
sur la mod√©lisation, des r√©sultats th√©oriques et exp√©rimentaux, etc. Les questions ci-dessous sont
des suggestions, et vous n'√™tes pas oblig√© de toutes les traiter. Toute prise d'initiative est la
bienvenue !

Pour enrichir le rapport vous √™tes aussi tout √† fait autoris√© √† chercher sur le web des r√©f√©rences

suppl√©mentaires sur les probl√®mes et algorithmes √©voqu√©s ici (et √† citer vos sources !).

Les di√©rentes parties du projet propos√©es ci-dessous sont tr√®s largement ind√©pendantes, selon

la hi√©rarchie suivante :

Pour vous permettre de tout traiter ind√©pendamment nous avons d√©pos√© sur le moodle des chiers
de donn√©es ou des scripts matlab contenant di√©rents types de graphe. Pour importer une matrice
sous forme .txt utiliser la commande A=dlmread('NomDuFichier.txt').

1 Simulation de graphes al√©atoires : graphe par attachement pr√©-

f√©rentiel

Nous allons commencer par le graphe √† attachement pr√©f√©rentiel 1, introduit pour mod√©liser de
fa√ßon dynamique la cr√©ation de grands r√©seaux d'interactions (typiquement, le graphe d'internet :
les sommets sont des pages web et une ar√™te entre 2 sommets correspond √† un lien).

Le mod√®le

Soit n ‚â• 1 un entier, nous allons construire de fa√ßon dynamique un graphe al√©atoire2 Gn √† n

sommets {1, . . . , n} et n ar√™tes.

1. On part du graphe G1 √† un sommet {1}, dont l'unique ar√™te est une boucle 1 ‚Üí 1.
2. Connaissant Gk, on rajoute un sommet k + 1 et une nouvelle ar√™te k + 1 ‚Üí vk+1, o√π

vk+1 ‚àà {1, 2, . . . , k} est al√©atoire et tir√© de la fa√ßon suivante :

P(vk+1 = i) = degr√©(i)
j degr√©(j)

= degr√©(i)
2k ‚àí 1 ,

((cid:63))

(cid:80)

o√π degr√©(i) est le nombre d'ar√™tes distinctes qui touchent le sommet i.

Voici un exemple avec k = 7 (dans ce cas-l√† v8 = 2) :

Question 1.1. √âcrire un script qui simule le graphe Gn. Pour l'instant on repr√©sente un graphe
par sa matrice d'adjacence n √ó n √† valeurs dans {0, 1} d√©nie par Adjacence(i,j)= 1 si i et j
sont voisins dans le graphe.

1Le mod√®le a √©t√© introduit de fa√ßon implicite par A.-L. Barab√°si, R.Albert, "Emergence of scaling in random

networks", Science (1999).

2Ce sera en r√©alit√© un arbre, et pour l'instant les ar√™tes sont non orient√©es.

Section1Section2(mod`ele)(visualisation)Section4(PageRank)Section3(clustering)1273456avecproba.3/1312734568Question 1.2. L'une des caract√©ristiques de ce mod√®le est que les degr√©s des sommets suivent
approximativement une loi de puissance (power-law) : si s est un sommet tir√© uniform√©ment dans
Gn,

P( degr√© de s = k) k grand‚âà ck‚àíŒ±,

o√π c, Œ± sont des constantes positives. Pouvez-vous illustrer ce ph√©nom√®ne (et √©valuer le coecient
Œ±) sur une simulation de Gn ?
[Th√©orique] Dans l'article original, les auteurs pr√©tendent que leur mod√®le
Question 1.3.
reproduit "a rich-gets-richer phenomenon that can be easily detected in real networks". Pour
illustrer le fait que Gn est extr√™mement non-homog√®ne, estimer l'esp√©rance du degr√© du sommet
1 dans Gn, et comparer avec le degr√© moyen d'un sommet.
Indication : On pourra calculer E[X(cid:96)+1|X(cid:96)], o√π X(cid:96) est le degr√© du sommet 1 lorsque le (cid:96)-√®me
sommet appara√Æt dans le graphe.

2 Visualisation d'un graphe : un probl√®me d'optimisation

Pour n grand, on souhaite repr√©senter un graphe Gn plus visuellement qu'avec sa matrice
d'adjacence. Ce genre de m√©thode peut aussi servir √† visualiser une matrice creuse qui peut alors
√™tre vue comme la matrice d'adjacence d'un graphe. De tels dessins sont visibles sur
http ://www.cise.ufl.edu/research/sparse/matrices/list_by_nnz.html.

Question 2.1. Tracer le graphe de votre choix de la fa√ßon suivante :

 Tirer au sort n points uniformes ind√©pendants (X1, Y1), . . . , (Xn, Yn) dans le carr√© [0, 1]2.
 Si i, j sont voisins dans Gn, tracer un segment entre (Xi, Yi) et (Xj, Yj).
Pour un graphe √† attachement pr√©f√©rentiel on obtient quelque chose d'un peu fouillis :

On cherche √† repr√©senter ce graphe de fa√ßon plus √©l√©gante, de fa√ßon √† repr√©senter visuellement la
topologie du graphe. Soit Distance la matrice n√ón dans laquelle le coecient (i, j) est la longueur
du plus court chemin entre i et j dans le graphe. L'id√©e est que les coordonn√©es Mi = (Xi, Yi)
et Mj = (Xj, Yj) des points i et j doivent √™tre d'autant plus √©loign√©es que Distance(i, j) est
grand :

‚àö

2 correspond √† la plus grande distance euclidienne dans le carr√© [0, 1]2, et est donc
(le terme
√† comparer avec maxi,j Distance(i, j)). Pour une conguration M1, . . . Mn donn√©e, on introduit
donc l'√©nergie

1‚àö
2 (cid:107) Mi ‚àí Mj (cid:107)‚âà
(cid:16) 1‚àö

E =(cid:88)

2

i,j

Distance(i, j)

maxi,j Distance(i, j)

(cid:17)2

,

(cid:107) Mi ‚àí Mj (cid:107) ‚àíD(cid:63)

i,j

(D(cid:63)
i,j

)2

o√π

D(cid:63)
i,j

=

Distance(i, j)

maxi,j Distance(i, j) .

Question 2.2. Tracer le graphe Gn de fa√ßon √† minimiser le plus possible l'√©nergie E. On pourra
utiliser des m√©thodes de type gradient. Vous pouvez aussi modier le choix de E pour obtenir
des graphes plus harmonieux. Enn, on peut se poser la question de repr√©senter le graphe en
dimension 3, voire d'utiliser des couleurs.

Une variante : le Œ¥-attachement pr√©f√©rentiel

On peut g√©n√©raliser le mod√®le du graphe √† attachement pr√©f√©rentiel de la fa√ßon suivante. Soit

Œ¥ > ‚àí1 un param√®tre x√©, on remplace l'√©quation ((cid:63)) par

P(vk+1 = i) =

degr√©(i) + Œ¥
(degr√©(j) + Œ¥)

j

= degr√©(i) + Œ¥
2k ‚àí 1 + kŒ¥

.

(cid:80)

Pour Œ¥ = 0, on retrouve le mod√®le initial.
Question 2.3. Tracer des graphes Gn pour di√©rentes valeurs de Œ¥. Comment peut-on d√©crire
l'inuence de Œ¥ sur Gn ?

3 Clustering et d√©tection de communaut√©s : utilisation de la d√©-

composition spectrale

Dans cette partie on cherche √† faire le clustering (ou segmentation) d'un graphe donn√© en un

certain nombre k de classes, selon la proximit√© dans le graphe.

Nous allons utiliser l'algorithme Spectral Clustering qui est d√©taill√© dans l'article (t√©l√©char-

geable sur le moodle du cours)

U.Von Luxburg. A tutorial on spectral clustering.

Statistics and computing, vol.17 (2007) n.4, p.395-416.

Question 3.1.
f√©rentes valeurs de k.

Impl√©menter l'algorithme sur le graphe par attachement pr√©f√©rentiel pour dif-

On va maintenant chercher √† tester Spectral Clustering sur un autre mod√®le de graphe : le
Stochastic Block Model (SBM). Ce graphe al√©atoire est utilis√© pour mod√©liser les communaut√©s
dans des r√©seaux sociaux. Les param√®tres du mod√®le sont les suivants :

n
K

Nombre de sommets
Nombre de classes (ou communaut√©s)
E1, . . . , EK Partition de {1, 2, . . . , n} en K classes
(qr,s)

Probabilit√©s inter-classes

r,s‚â§K

Le mod√®le est construit de la fa√ßon suivante : si i, j appartiennent respectivement aux classes
Er, Es, alors on met une ar√™te i ‚àº j avec probabilit√© qr,s, et ce ind√©pendamment pour chaque
paire {i, j}.
Question 3.2. Vous pouvez simuler quelques graphes obtenus selon le Stochastic Block Model,
les tracer et essayer de retrouver les di√©rentes classes avec l'algorithme Spectral Clustering.
Question 3.3. T√©l√©charger sur le moodle le chier MatriceAdjacenceSBM.txt qui est une
matrice d'adjacence 200 √ó 200 simul√©e par SBM. Tracer le graphe de la meilleure fa√ßon possible
et essayer de d√©terminer le nombre de classes.
Question 3.4. Ne pas h√©siter √† comparer Spectral Clustering avec le clustering obtenu en
eectuant simplement k-means sur les graphe dessin√©s dans la partie pr√©c√©dente.

4 Popularit√© dans un graphe : une approche par valeurs propres

(PageRank)

L'algorithme PageRank3, introduit en 1998 et √† la base de Google, attribue √† chaque sommet
Le principe est le suivant. Soit G un graphe √† n sommets, et A ‚àà Mn√ón({0, 1}) sa matrice

d'un graphe un score cens√© √©valuer sa popularit√© dans le graphe.
d'adjacence. On note ÀúA la matrice d'adjacence renormalis√©e :

.

Ai,j

j

Pour Œµ > 0, on note PŒµ la matrice

ÀúAi,j = Ai,j(cid:80)
Ô£´Ô£¨Ô£≠1 . . .
propre 1 de la matrice PŒµ, renormalis√© par(cid:80) Xi = 1.

PŒµ = (1 ‚àí Œµ) ÀúA + Œµ
n

. . .
1 . . .

Ô£∂Ô£∑Ô£∏ .

1

1

Alors le vecteur des scores X de PageRank est le vecteur propre (√† gauche) associ√© √† la valeur

Remarque : Pour que les r√©sultats de PageRank soient plus pertinents, il est pr√©f√©rable d'uti-
liser un mod√®le de graphe orient√©. C'est tr√®s facile avec l'attachement pr√©f√©rentiel : on oriente
chaque nouvelle ar√™te dans le sens k + 1 ‚Üí vk.
Question 4.1. En √©valuant les scores PageRank sur quelques graphes de petite taille, discuter
du r√¥le de Œµ (pour donner une id√©e, Brin & Page proposaient initialement de prendre Œµ = 0, 15).
Discuter de l'impl√©mentation de l'algorithme pour des graphes de grande taille. Quels algorithmes
de recherche de valeurs/vecteurs propres peut-on proposer qui soient utilisables dans ce cas (on
pourra commencer par √©tudier la m√©thode de la puissance) ?
Question 4.2.
est-ce que cela semble un bon crit√®re pour la popularit√© d'un site ?
Question 4.3. On se demande si on peut "tricher" pour augmenter son PageRank. Pour
r√©pondre √† cette question, estimer ce qu'il se passe pour X si l'on cr√©√© articiellement quelques
sommets qui ne pointent que vers un sommet x√©.

Impl√©menter PageRank pour un grand graphe √† attachement pr√©f√©rentiel,

3S.Brin, L.Page. The anatomy of a large-scale hypertextual web search engine. Proceedings of the Seventh

World Wide Web Conference (1998).

