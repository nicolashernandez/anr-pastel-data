http://gerin.perso.math.cnrs.fr/Enseignements/TP_Graphes.pdf

MAP 572 - Mise en Ã·uvre de mÃ©thodes numÃ©riques.

FranÃ§ois Alouges, Lucas Gerin

Graphes : modÃ¨les et algorithmes

CrÃ©dit : Igor Kortchemski (CNRS et Ã‰cole Polytechnique).

Les graphes interviennent de faÃ§on essentielle dans de nombreux problÃ¨mes de mathÃ©matiques
appliquÃ©es. Ils interviennent en particulier lorsque l'on souhaite modÃ©liser le graphe des pages
internet (les connexions Ã©tant les liens entre les pages), les maillages ou des Ã©tudes statistiques.
Leur Ã©tude soulÃ¨ve de nombreuses questions et nous allons en aborder certaines dans ce travail.
Les objectifs sont de

 dÃ©nir et simuler des modÃ¨les de graphes,
 les dessiner/reprÃ©senter de faÃ§on pertinente,
 faire de l'analyse de donnÃ©es et de l'algorithmique sur ces graphes.
Ã€ la n de la derniÃ¨re sÃ©ance, vous devrez rendre un rapport par bÃ®nome de 15-20 pages
au format pdf. Vous pouvez y inclure tout ce qui vous semble pertinent sur la rÃ©solution des
problÃ¨mes posÃ©s : les sorties graphiques et leurs interprÃ©tations, le code matlab, des remarques
sur la modÃ©lisation, des rÃ©sultats thÃ©oriques et expÃ©rimentaux, etc. Les questions ci-dessous sont
des suggestions, et vous n'Ãªtes pas obligÃ© de toutes les traiter. Toute prise d'initiative est la
bienvenue !

Pour enrichir le rapport vous Ãªtes aussi tout Ã  fait autorisÃ© Ã  chercher sur le web des rÃ©fÃ©rences

supplÃ©mentaires sur les problÃ¨mes et algorithmes Ã©voquÃ©s ici (et Ã  citer vos sources !).

Les diÃ©rentes parties du projet proposÃ©es ci-dessous sont trÃ¨s largement indÃ©pendantes, selon

la hiÃ©rarchie suivante :

Pour vous permettre de tout traiter indÃ©pendamment nous avons dÃ©posÃ© sur le moodle des chiers
de donnÃ©es ou des scripts matlab contenant diÃ©rents types de graphe. Pour importer une matrice
sous forme .txt utiliser la commande A=dlmread('NomDuFichier.txt').

1 Simulation de graphes alÃ©atoires : graphe par attachement prÃ©-

fÃ©rentiel

Nous allons commencer par le graphe Ã  attachement prÃ©fÃ©rentiel 1, introduit pour modÃ©liser de
faÃ§on dynamique la crÃ©ation de grands rÃ©seaux d'interactions (typiquement, le graphe d'internet :
les sommets sont des pages web et une arÃªte entre 2 sommets correspond Ã  un lien).

Le modÃ¨le

Soit n â‰¥ 1 un entier, nous allons construire de faÃ§on dynamique un graphe alÃ©atoire2 Gn Ã  n

sommets {1, . . . , n} et n arÃªtes.

1. On part du graphe G1 Ã  un sommet {1}, dont l'unique arÃªte est une boucle 1 â†’ 1.
2. Connaissant Gk, on rajoute un sommet k + 1 et une nouvelle arÃªte k + 1 â†’ vk+1, oÃ¹

vk+1 âˆˆ {1, 2, . . . , k} est alÃ©atoire et tirÃ© de la faÃ§on suivante :

P(vk+1 = i) = degrÃ©(i)
j degrÃ©(j)

= degrÃ©(i)
2k âˆ’ 1 ,

((cid:63))

(cid:80)

oÃ¹ degrÃ©(i) est le nombre d'arÃªtes distinctes qui touchent le sommet i.

Voici un exemple avec k = 7 (dans ce cas-lÃ  v8 = 2) :

Question 1.1. Ã‰crire un script qui simule le graphe Gn. Pour l'instant on reprÃ©sente un graphe
par sa matrice d'adjacence n Ã— n Ã  valeurs dans {0, 1} dÃ©nie par Adjacence(i,j)= 1 si i et j
sont voisins dans le graphe.

1Le modÃ¨le a Ã©tÃ© introduit de faÃ§on implicite par A.-L. BarabÃ¡si, R.Albert, "Emergence of scaling in random

networks", Science (1999).

2Ce sera en rÃ©alitÃ© un arbre, et pour l'instant les arÃªtes sont non orientÃ©es.

Section1Section2(mod`ele)(visualisation)Section4(PageRank)Section3(clustering)1273456avecproba.3/1312734568Question 1.2. L'une des caractÃ©ristiques de ce modÃ¨le est que les degrÃ©s des sommets suivent
approximativement une loi de puissance (power-law) : si s est un sommet tirÃ© uniformÃ©ment dans
Gn,

P( degrÃ© de s = k) k grandâ‰ˆ ckâˆ’Î±,

oÃ¹ c, Î± sont des constantes positives. Pouvez-vous illustrer ce phÃ©nomÃ¨ne (et Ã©valuer le coecient
Î±) sur une simulation de Gn ?
[ThÃ©orique] Dans l'article original, les auteurs prÃ©tendent que leur modÃ¨le
Question 1.3.
reproduit "a rich-gets-richer phenomenon that can be easily detected in real networks". Pour
illustrer le fait que Gn est extrÃªmement non-homogÃ¨ne, estimer l'espÃ©rance du degrÃ© du sommet
1 dans Gn, et comparer avec le degrÃ© moyen d'un sommet.
Indication : On pourra calculer E[X(cid:96)+1|X(cid:96)], oÃ¹ X(cid:96) est le degrÃ© du sommet 1 lorsque le (cid:96)-Ã¨me
sommet apparaÃ®t dans le graphe.

2 Visualisation d'un graphe : un problÃ¨me d'optimisation

Pour n grand, on souhaite reprÃ©senter un graphe Gn plus visuellement qu'avec sa matrice
d'adjacence. Ce genre de mÃ©thode peut aussi servir Ã  visualiser une matrice creuse qui peut alors
Ãªtre vue comme la matrice d'adjacence d'un graphe. De tels dessins sont visibles sur
http ://www.cise.ufl.edu/research/sparse/matrices/list_by_nnz.html.

Question 2.1. Tracer le graphe de votre choix de la faÃ§on suivante :

 Tirer au sort n points uniformes indÃ©pendants (X1, Y1), . . . , (Xn, Yn) dans le carrÃ© [0, 1]2.
 Si i, j sont voisins dans Gn, tracer un segment entre (Xi, Yi) et (Xj, Yj).
Pour un graphe Ã  attachement prÃ©fÃ©rentiel on obtient quelque chose d'un peu fouillis :

On cherche Ã  reprÃ©senter ce graphe de faÃ§on plus Ã©lÃ©gante, de faÃ§on Ã  reprÃ©senter visuellement la
topologie du graphe. Soit Distance la matrice nÃ—n dans laquelle le coecient (i, j) est la longueur
du plus court chemin entre i et j dans le graphe. L'idÃ©e est que les coordonnÃ©es Mi = (Xi, Yi)
et Mj = (Xj, Yj) des points i et j doivent Ãªtre d'autant plus Ã©loignÃ©es que Distance(i, j) est
grand :

âˆš

2 correspond Ã  la plus grande distance euclidienne dans le carrÃ© [0, 1]2, et est donc
(le terme
Ã  comparer avec maxi,j Distance(i, j)). Pour une conguration M1, . . . Mn donnÃ©e, on introduit
donc l'Ã©nergie

1âˆš
2 (cid:107) Mi âˆ’ Mj (cid:107)â‰ˆ
(cid:16) 1âˆš

E =(cid:88)

2

i,j

Distance(i, j)

maxi,j Distance(i, j)

(cid:17)2

,

(cid:107) Mi âˆ’ Mj (cid:107) âˆ’D(cid:63)

i,j

(D(cid:63)
i,j

)2

oÃ¹

D(cid:63)
i,j

=

Distance(i, j)

maxi,j Distance(i, j) .

Question 2.2. Tracer le graphe Gn de faÃ§on Ã  minimiser le plus possible l'Ã©nergie E. On pourra
utiliser des mÃ©thodes de type gradient. Vous pouvez aussi modier le choix de E pour obtenir
des graphes plus harmonieux. Enn, on peut se poser la question de reprÃ©senter le graphe en
dimension 3, voire d'utiliser des couleurs.

Une variante : le Î´-attachement prÃ©fÃ©rentiel

On peut gÃ©nÃ©raliser le modÃ¨le du graphe Ã  attachement prÃ©fÃ©rentiel de la faÃ§on suivante. Soit

Î´ > âˆ’1 un paramÃ¨tre xÃ©, on remplace l'Ã©quation ((cid:63)) par

P(vk+1 = i) =

degrÃ©(i) + Î´
(degrÃ©(j) + Î´)

j

= degrÃ©(i) + Î´
2k âˆ’ 1 + kÎ´

.

(cid:80)

Pour Î´ = 0, on retrouve le modÃ¨le initial.
Question 2.3. Tracer des graphes Gn pour diÃ©rentes valeurs de Î´. Comment peut-on dÃ©crire
l'inuence de Î´ sur Gn ?

3 Clustering et dÃ©tection de communautÃ©s : utilisation de la dÃ©-

composition spectrale

Dans cette partie on cherche Ã  faire le clustering (ou segmentation) d'un graphe donnÃ© en un

certain nombre k de classes, selon la proximitÃ© dans le graphe.

Nous allons utiliser l'algorithme Spectral Clustering qui est dÃ©taillÃ© dans l'article (tÃ©lÃ©char-

geable sur le moodle du cours)

U.Von Luxburg. A tutorial on spectral clustering.

Statistics and computing, vol.17 (2007) n.4, p.395-416.

Question 3.1.
fÃ©rentes valeurs de k.

ImplÃ©menter l'algorithme sur le graphe par attachement prÃ©fÃ©rentiel pour dif-

On va maintenant chercher Ã  tester Spectral Clustering sur un autre modÃ¨le de graphe : le
Stochastic Block Model (SBM). Ce graphe alÃ©atoire est utilisÃ© pour modÃ©liser les communautÃ©s
dans des rÃ©seaux sociaux. Les paramÃ¨tres du modÃ¨le sont les suivants :

n
K

Nombre de sommets
Nombre de classes (ou communautÃ©s)
E1, . . . , EK Partition de {1, 2, . . . , n} en K classes
(qr,s)

ProbabilitÃ©s inter-classes

r,sâ‰¤K

Le modÃ¨le est construit de la faÃ§on suivante : si i, j appartiennent respectivement aux classes
Er, Es, alors on met une arÃªte i âˆ¼ j avec probabilitÃ© qr,s, et ce indÃ©pendamment pour chaque
paire {i, j}.
Question 3.2. Vous pouvez simuler quelques graphes obtenus selon le Stochastic Block Model,
les tracer et essayer de retrouver les diÃ©rentes classes avec l'algorithme Spectral Clustering.
Question 3.3. TÃ©lÃ©charger sur le moodle le chier MatriceAdjacenceSBM.txt qui est une
matrice d'adjacence 200 Ã— 200 simulÃ©e par SBM. Tracer le graphe de la meilleure faÃ§on possible
et essayer de dÃ©terminer le nombre de classes.
Question 3.4. Ne pas hÃ©siter Ã  comparer Spectral Clustering avec le clustering obtenu en
eectuant simplement k-means sur les graphe dessinÃ©s dans la partie prÃ©cÃ©dente.

4 PopularitÃ© dans un graphe : une approche par valeurs propres

(PageRank)

L'algorithme PageRank3, introduit en 1998 et Ã  la base de Google, attribue Ã  chaque sommet
Le principe est le suivant. Soit G un graphe Ã  n sommets, et A âˆˆ MnÃ—n({0, 1}) sa matrice

d'un graphe un score censÃ© Ã©valuer sa popularitÃ© dans le graphe.
d'adjacence. On note ËœA la matrice d'adjacence renormalisÃ©e :

.

Ai,j

j

Pour Îµ > 0, on note PÎµ la matrice

ËœAi,j = Ai,j(cid:80)
ï£«ï£¬ï£­1 . . .
propre 1 de la matrice PÎµ, renormalisÃ© par(cid:80) Xi = 1.

PÎµ = (1 âˆ’ Îµ) ËœA + Îµ
n

. . .
1 . . .

ï£¶ï£·ï£¸ .

1

1

Alors le vecteur des scores X de PageRank est le vecteur propre (Ã  gauche) associÃ© Ã  la valeur

Remarque : Pour que les rÃ©sultats de PageRank soient plus pertinents, il est prÃ©fÃ©rable d'uti-
liser un modÃ¨le de graphe orientÃ©. C'est trÃ¨s facile avec l'attachement prÃ©fÃ©rentiel : on oriente
chaque nouvelle arÃªte dans le sens k + 1 â†’ vk.
Question 4.1. En Ã©valuant les scores PageRank sur quelques graphes de petite taille, discuter
du rÃ´le de Îµ (pour donner une idÃ©e, Brin & Page proposaient initialement de prendre Îµ = 0, 15).
Discuter de l'implÃ©mentation de l'algorithme pour des graphes de grande taille. Quels algorithmes
de recherche de valeurs/vecteurs propres peut-on proposer qui soient utilisables dans ce cas (on
pourra commencer par Ã©tudier la mÃ©thode de la puissance) ?
Question 4.2.
est-ce que cela semble un bon critÃ¨re pour la popularitÃ© d'un site ?
Question 4.3. On se demande si on peut "tricher" pour augmenter son PageRank. Pour
rÃ©pondre Ã  cette question, estimer ce qu'il se passe pour X si l'on crÃ©Ã© articiellement quelques
sommets qui ne pointent que vers un sommet xÃ©.

ImplÃ©menter PageRank pour un grand graphe Ã  attachement prÃ©fÃ©rentiel,

3S.Brin, L.Page. The anatomy of a large-scale hypertextual web search engine. Proceedings of the Seventh

World Wide Web Conference (1998).

