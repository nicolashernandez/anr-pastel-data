https://groupefmr.hypotheses.org/1912








		    src: url("https://f-origin.hypotheses.org/wp-content/cleo-commons/fonts/social-font/socicon.eot?#iefix") format("embedded-opentype"),
			 url("https://f-origin.hypotheses.org/wp-content/cleo-commons/fonts/social-font/socicon.woff") format("woff"),
			 url("https://f-origin.hypotheses.org/wp-content/cleo-commons/fonts/social-font/socicon.ttf") format("truetype"),
			 url("https://f-origin.hypotheses.org/wp-content/cleo-commons/fonts/social-font/socicon.svg#icomoonregular") format("svg");
		    font-weight: normal;
		    font-style: normal;
		}
		@media screen and (-webkit-min-device-pixel-ratio:0) {
		    @font-face {
			font-family:si;
			src: url(https://f-origin.hypotheses.org/wp-content/cleo-commons/fonts/social-font/socicon.svg) format(svg);
		    }
		}
		.entry ul.soc { overflow:hidden; margin:0; padding:0; list-style:none;}
		.soc li { display:inline-block; *display:inline; zoom:1;}
		.soc li a { font-family:si!important; font-style:normal; font-weight:400; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; -webkit-box-sizing:border-box; -moz-box-sizing:border-box; -ms-box-sizing:border-box; -o-box-sizing:border-box; box-sizing:border-box;
		    -o-transition:.1s; -ms-transition:.1s; -moz-transition:.1s; -webkit-transition:.1s; transition:.1s; -webkit-transition-property: transform;transition-property: transform; -webkit-transform: translateZ(0); transform: translateZ(0);
		    overflow:hidden; text-decoration:none; text-align:center; display:block; position: relative; z-index: 1; width: 38px;  height: 38px; line-height: 38px; font-size: 20px; -webkit-border-radius: 0px; -moz-border-radius: 0px; border-radius: 0px; margin-right: 13px; color: #ffffff; background-color: none;}
		.soc a:hover { z-index: 2; -webkit-transform: scale(1.1); transform: scale(1.1);}
		.soc-icon-last{ margin:0 !important;}
		.soc-twitter { background-color: #4da7de;}
		.soc-twitter:before { content:"\e040";}
		.soc-facebook { background-color: #3e5b98;}
		.soc-facebook:before { content:"\e041";}
		.soc-googleplus { background-color: #dd4b39;}
		.soc-googleplus:before { content:"\e042";}
		.soc-linkedin { background-color: #3371b7;}
		.soc-linkedin:before { content:"\e049";}
		

		// Share buttons
				return false;
			});
		});
		






 
    span.icon-hypotheses {
      background:url(https://f-origin.hypotheses.org/wp-content/cleo-commons/images/favicon_18x20.png);width:18px;height:20px;display:inline-block;margin-right:5px;
    }
  

				.site-header {

			/*
			 * No shorthand so the Customizer can override individual properties.
			 * @see https://core.trac.wordpress.org/ticket/31460
			 */
			background-image: url(https://groupefmr.hypotheses.org/files/2012/12/cropped-Shipping_routes.png);
			background-repeat: no-repeat;
			background-position: 50% 50%;
			-webkit-background-size: cover;
			-moz-background-size:    cover;
			-o-background-size:      cover;
			background-size:         cover;
		}

		@media screen and (min-width: 59.6875em) {
			body:before {

				/*
				 * No shorthand so the Customizer can override individual properties.
				 * @see https://core.trac.wordpress.org/ticket/31460
				 */
				background-image: url(https://groupefmr.hypotheses.org/files/2012/12/cropped-Shipping_routes.png);
				background-repeat: no-repeat;
				background-position: 100% 50%;
				-webkit-background-size: cover;
				-moz-background-size:    cover;
				-o-background-size:      cover;
				background-size:         cover;
				border-right: 0;
			}

			.site-header {
				background: transparent;
			}
		}
		










 body, html.js body {margin-top:40px;}



Aller au contenu



groupe fmr
(flux, matrices, réseaux)
Menu et widgets






Rechercher :



Catégories 
Acteurs et actrices (2)

Brèves et actualités (84)

Glossaire (49)

Lectures (16)

Lieux (8)

Mesures (10)

Outils (56)

Projets (15)


  Billets récents 

Réunion fmr sur la simulation de croissance des réseaux


Atelier d’Analyse de réseaux avec R : Exploration de réseaux dynamiques


Network Analysis 2.1 et QGIS 3.0


Le 28 mars: retour des ateliers d’analyse de réseaux avec R


Réunions fmr : Cycle sur la détection de communautés


Mots-clef
ArcgIs10
cartographie
complex networks
Convertisseur de matrices
Cours
Cytoscape
ego-network
flux
France
Gephi
graphe biparti
graphe planaire
igraph
intergraph
Mesures
mobilité
méthode de Louvain
NetworkX
Network_Analysis
open source
Pajek
partitionnement
physique
Pigale
Python
périurbain
QGIS
questionnaire fmr
R
réseau ferroviaire
réseaux complexes
réseaux sociaux
réseaux spatiaux
SENSEable City Lab
SIG
SNCF
SocioPatterns
statnet
TGV
tutoriel
Visone
visualisation
VOS clustering
VOSviewer
web


 GDR Analyse de réseaux en SHSInternational and cross-time comparisons of personal networks (Toulouse, 15-16 mai 2018) 06/04/2018École thématique Analyse de réseaux et complexité, Cargèse (Corse),  24-28 septembre 2018 04/04/2018Financements pour la SunBelt 2018 16/01/2018Appel à propositions 2018 : journées d’études pluri-disciplinaires en analyse de réseaux 16/01/2018Trajectoires et dynamiques des réseaux : approches quantitatives 28/11/2017 RES-HISTThe Connected Past à Oxford, décembre 2018Communiquer au colloque annuel HNR – analyse de réseaux en histoireUne revue centrée sur l’analyse de réseaux en histoireInitiation à l’analyse de réseaux, Nice, 3 au 8 juillet 2017 QUANTI / sciences socialesTutoriel pour de l’analyse textuelle de réseau avec linkage.fr (3/3) 03/04/2018L’analyse textuelle avec linkage, éléments de théorie (2/3) 03/04/2018Les courants de la sociologie de l’éducation? Exemple d’analyse textuelle (1/3) 03/04/2018Journée d’études « Travail, immigration, santé : perspectives quantitatives », le vendredi 4 mai 2018 à l’ENS de Lyon 26/03/2018Liens

Aviz
Collection fmr
Complex Networks
facebook – groupe fmr
GDR AR-SHS
INSNA
REDES
Réseaux sociaux










L’analyse de réseaux avec R, les premiers pas (deuxième partie) 

Un premier billet publié début avril a présenté l’installation de R et de RStudio, le fonctionnement général du logiciel et a montré comment effectuer des mesures basiques sur un graphe à l’aide des packages statnet et igraph. L’objectif de ce billet est d’expliquer le plus simplement possible comment importer et transformer ses propres données et comment les visualiser. L’objectif de l’exercice est le suivant : importer un jeu de données comportant des attributs sur les liens et sur les sommets, puis de représenter le graphe en faisant dépendre la taille et la couleur des sommets de deux attributs et l’épaisseur des liens d’un troisième attribut.
Importer ses données
Les données proposées en exemple représentent un graphe fictif de relations entre enfants. Elles comportent deux fichiers : un fichier de type origine – destination – intensité concernant les liens non orientés existants, un fichier de type individus – variables qui précise les attributs de chacun des sommets (genre et âge). Pour télécharger le jeu de données et le script commenté dans ce billet, cliquer ici (les fichiers sont encodés en utf-8). En  règle générale, avec R, il est préférable pour limiter les risques d’erreurs d’importer des fichiers de format texte (.txt ou .csv).
La démarche à suivre est la même avec les deux packages : mettre en forme ses données, les importer dans R puis les transformer en un objet que statnet et igraph sont capables d’analyser. Détail important : ces deux packages ne permettent pas d’analyser des graphes valués (i.e. l’intensité des liens n’est pas prise en compte pour le calcul des indicateurs) mais, dans la représentation graphique, il est possible de faire varier l’épaisseur des liens en fonction de leur intensité.
Une fois vos fichiers placés dans un dossier, créez dans ce même dossier un fichier script.txt et changez l’extension pour obtenir script.R. Ouvrez-le ensuite avec RStudio.
Le début du script est le suivant :
rm(list=ls())
l <- read.table(« liens.txt », sep= »; », header=TRUE)
s <- read.table(« sommets.txt », sep= »; », header=TRUE, stringsAsFactors=FALSE) 
La première ligne supprime tout les objets précédemment créés dans R, les deux lignes suivantes permettent l’importation des fichiers. Il convient de préciser leur nom, le caractère utilisé pour séparer les colonnes (sep= » »), éventuellement le caractère utilisé pour les décimales (dec= » ») et header=TRUE informe R que la première ligne contient les étiquettes de colonnes. L’option stringsAsFactors permet d’éviter que R ne transforme les caractères de la variable qualitative GENRE en facteur. Une fois les fichiers importés, vous pouvez les visualiser en cliquant sur eux dans la fenêtre Workspace. Il est toujours prudent, surtout lorsque l’on débute avec R, mais la règle reste valable ensuite, de vérifier avant toute opération que l’importation s’est bien déroulée.
Avec igraph
La transformation des données est relativement simple  avec igraph : la fonction graph.data.frame prend comme premier argument une liste de liens dont les deux premières colonnes doivent être les origines et les destinations. Les éventuelles colonnes supplémentaires seront considérées comme des attributs des liens. Les arguments suivants concernent la nature du graphe (orienté ou non notamment). Enfin, un argument vertices = permet d’importer les attributs des sommets. La ligne de code suivante permet donc de transformer nos deux fichiers en un objet igraph.
g <- graph.data.frame(l, directed=FALSE, vertices = s)
Pour la représentation, il faut d’abord définir les différents paramètres nécessaires et préciser les couleurs à utiliser, à quelle variable les attribuer, à quoi correspond la taille des sommets, l’épaisseur des liens etc. etc. Le code ci-dessous devrait vous donner la figure suivante – l’orientation des sommets pouvant être différente.
vertexCol <- get.vertex.attribute(g, »GENRE »)
colors = c(« Pink », »Blue »)
vertexCol[vertexCol == « F »] = colors[1]
vertexCol[vertexCol == « M »] = colors[2]
vertexSiz <- get.vertex.attribute(g, « AGE »)
edgeW <- get.edge.attribute(g, « INT »)
plot(g, vertex.color= vertexCol, vertex.size = vertexSiz, 
      edge.width = edgeW)

Avec statnet
La transformation en objet network analysable par statnet se fait à l’aide des commande as.matrix et as.network. Les noms sont explicites : as.matrix transforme une liste de liens en matrice ; as.network transforme la matrice en objet network. Donc, si vos données de départ sont au format matriciel, vous n’aurez pas besoin d’utiliser as.matrix… Dans la mesure où mes liens ne sont pas orientés, je le précise lors de la transformation avec l’option directed=FALSE. Je ne dois par contre prendre que les deux premières colonnes d’où les crochets et les parenthèses.
library(statnet)
ls <- as.network(as.matrix(l[,c(1:2)], directed=FALSE)
ls
gplot(ls)
La dernière étape consiste à transformer la dernière colonne du fichier l (intensité de la relation) et le fichier s (sommets) en données attributaires pour l’objet network ls créé à l’étape précédente. Cela se fait avec l’assignation %v% pour les sommets (v comme vertex) et %e% pour les liens (e comme edge).
ls %v% « GENRE » <- s$GENRE  
ls %v% « AGE » <- s$AGE
ls %e% « int » <- l$INT
Pour la  représentation graphique, il faut d’abord définir les couleurs à utiliser puis visualiser avec la fonction gplot. Cette fonction propose un très grand nombre d’options, le plus simple est de taper ?gplot puis de tester les différents scripts d’exemple. Bizarrement, il faut faire appel aux tableaux de départ et non à l’objet network pour personnaliser la visualisation. Les options utilisées ici sont les suivantes : gmode = « graph » signale que le graphe est non orienté ( = « digraph » dans le cas contraire) ; displaylabels permet d’afficher ou non les labels des sommets, vertex.col et vertex.cex permettent de choisir couleur et taille des sommets et enfin edge.lwd permet de moduler l’épaisseur des liens.
nodeColors <- ifelse(s$GENRE== »F », »Pink », »Blue »)
gplot(ls, gmode= »graph », displaylabels=TRUE, vertex.col=nodeColors,
      vertex.cex= s$AGE/4, edge.lwd = l$INT)
Le résultat obtenu ressemble – à l’orientation générale de la figure près – à ceci :
 
En guise de conclusion
Le premier billet vous a – théoriquement – permis d’installer R, RStudio et de tester différente mesures de graphe à l’aide des packages statnet et igraph. Vous savez maintenant importer vos données (liens et attributs) et visualiser vos graphes en fonction des attributs importés, vous êtes donc quasi autonomes. Un dernier conseil pour finir : prenez toujours le temps de bien parcourir les rubriques d’aide des fonctions.








Laurent BeauguitteMore Posts Follow Me: 

Publié le 25/05/201307/10/2014Auteur Laurent BeauguitteCatégories OutilsMots-clés igraph, R, statnet 



			4 réflexions au sujet de « L’analyse de réseaux avec R, les premiers pas (deuxième partie) »		





 sana dit : 



								30/09/2015 à 14:28							




bonjour,
j’ai fait une formation sur l’analyse des réseaux sociaux pour des données de la mobilité animale (mouvement , origine et destination)
j’ai fait la recherche et j’ai trouvé plusieurs méthodes mais dans notre formation on a utilisé le contenu ci-dessous :
#######################
# La première et une seule fois  installer le package. menu Tools/Install Packages/SNA
[la suite du script a été coupée]
j'ai utilisé le script mais ça bloque , prière de m'aider à résoudre le blocage. merci

Répondre 





 Laurent Beauguitte dit : 



								30/09/2015 à 14:35							




Bonjour,
je vous suggère de contacter plutôt la personne ayant effectué la formation.
Très cordialement

Répondre 







 Jean-Baptiste Pressac dit : 



								18/04/2014 à 16:10							




Bonjour,
Merci pour ce tutoriel. Pour info, j’ai trouvé en recherchant des informations sur gplot, des guides de référence sur cette librairie rédigés par Melissa Clarkson http://students.washington.edu/mclarkso/ où l’on trouve des illustrations qui font défaut dans la documentation officielle.
Bien cordialement,

Répondre 





 Laurent Beauguitte dit : 



								23/06/2014 à 9:01							




Bonjour,
avec un retard impardonnable, merci beaucoup pour cette ressource que je ne connaissais pas.

Répondre 





Laisser un commentaire Annuler la réponse 
Votre adresse de messagerie ne sera pas publiée. Les champs obligatoires sont indiqués avec *Commentaire Nom * 
Adresse de messagerie * 
Site web 
Enregistrer mon nom, mon e-mail et mon site web dans le navigateur pour mon prochain commentaire.
 

 

Ce site utilise Akismet pour réduire les indésirables. En savoir plus sur comment les données de vos commentaires sont utilisées.


Navigation de l’article
Précédent Article précédent : EgoNet et Vennmaker : logiciels d’analyse de réseaux personnelsSuivant Article suivant : L’analyse de réseaux avec R – un état des lieux (journée Semin-R du 24 mai 2013)






Un carnet de recherche proposé par  Hypothèses - Ce carnet dans le catalogue d'OpenEdition - Politique de confidentialitéFlux de syndication - Crédits 
				Fièrement propulsé par WordPress			





    // tracker methods like "setCustomDimension" should be called before "trackPageView"
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'pk.js'; s.parentNode.insertBefore(g,s);
    })();
  



